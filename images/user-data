#cloud-config

ssh_pwauth: True
password: password
chpasswd: { expire: False }

## Create image out of this running "cloud-localds user-data.img user-data"
groups:
  - nogroup

system_info:
  default_user:
    name: jrolon
    primary_group: nogroup
    sudo: ALL=(ALL) NOPASSWD:ALL

# sync the uid and gid with the host
runcmd:
  - 'usermod -u 30553 jrolon'
  - 'groupmod -g 65534 nogroup'

mounts:
  - [ "nutanix_src", "/nutanix-src", "9p", "trans=virtio", "0", "0" ]
  - [ "nvme_fio", "/nvme-fio", "9p", "trans=virtio", "0", "0" ]

package_update: true
packages:
  - build-essential
  - meson
  - make
  - libgflags-dev
  - libsnappy-dev
  - zlib1g-dev
  - libbz2-dev
  - liblz4-dev
  - libzstd-dev
  - libnuma-dev
  - libssl-dev
  - libaio-dev
  - uuid-dev
  - libjson-c-dev
